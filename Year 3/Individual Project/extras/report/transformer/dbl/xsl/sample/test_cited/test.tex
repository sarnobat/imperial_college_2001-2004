% ------------------------------------------------------------	
% Autogenerated LaTeX file for books	
% ------------------------------------------------------------	
\ifx\pdfoutput\undefined
\documentclass[french,english,a4paper,10pt,twoside,openright,]{report}
\else
\documentclass[pdftex,french,english,a4paper,10pt,twoside,openright,]{report}
\fi
\label{book}\usepackage{ifthen}
% --------------------------------------------
% Check for PDFLaTeX/LaTeX 
% --------------------------------------------
\newif\ifpdf
\ifx\pdfoutput\undefined
\pdffalse % we are not running PDFLaTeX
\else
\pdfoutput=1 % we are running PDFLaTeX
\pdftrue
\fi
% --------------------------------------------
% Load graphicx package with pdf if needed 
% --------------------------------------------
\ifpdf
\usepackage[pdftex]{graphicx}
\pdfcompresslevel=9
\else
\usepackage{graphicx}
\fi
\usepackage{anysize}
\marginsize{3cm}{2cm}{1.25cm}{1.25cm}
\usepackage{fancyhdr}
\pagestyle{empty}\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
% ---------------------- 
% Most Common Packages   
% ---------------------- 
\usepackage{makeidx} 
\usepackage{varioref}         
\usepackage{latexsym}         
\usepackage{enumerate}         
\usepackage{fancybox}      
\usepackage{float}       
\usepackage{ragged2e}       
\usepackage[french]{babel} 
\usepackage{isolatin1}         
\usepackage{rotating}         
\usepackage{tabularx}         
\usepackage{url}         
% ---------------
% Document Font  
% ---------------
\usepackage{palatino}
 \def\keywords{\vspace{-.3em}
 \if@twocolumn
 \small{\itshape 
Keywords }\/\bfseries---$\!$%
 \else
 \begin{center}\small\bfseries 
Keywords \end{center}\quotation\small
 \fi}
 \def\endkeywords{\vspace{0.6em}\par\if@twocolumn\else\endquotation\fi
 \normalsize\rmfamily}
% --------------------------------------------
% Load hyperref package with pdf if needed 
% --------------------------------------------
\ifpdf
\usepackage[pdftex,bookmarksnumbered,colorlinks,backref, bookmarks, breaklinks, linktocpage,pdfstartview=FitH]{hyperref}
\else
\usepackage[dvips,bookmarksnumbered,colorlinks,backref, bookmarks, breaklinks, linktocpage,]{hyperref}
\fi
% --------------------------------------------
\newenvironment{admminipage}{\begin{Sbox}\begin{minipage}}{\end{minipage}\end{Sbox}\fbox{\TheSbox}}
\newlength{\admlength}
\newenvironment{admonition}[2] {
 \hspace{0mm}\newline\hspace*\fill\newline
 \noindent
 \setlength{\fboxsep}{5pt}
 \setlength{\admlength}{\linewidth}
 \addtolength{\admlength}{-10\fboxsep}
 \addtolength{\admlength}{-10\fboxrule}
 \admminipage{\admlength}
 {\bfseries \sc\large{#2}} \newline
 \\[1mm]
 \sffamily
 \includegraphics[width=1cm]{#1}
 \addtolength{\admlength}{-1cm}
 \addtolength{\admlength}{-20pt}
 \begin{minipage}[lt]{\admlength}
 \parskip=0.5\baselineskip \advance\parskip by 0pt plus 2pt
}{
 \vspace{5mm} 
 \end{minipage}
 \endadmminipage
 \vspace{.5em}
 \par
}
% --------------------------------------------
% Commands to manage/style/create floats      
% figures, tables, algorithms, examples, eqn  
% --------------------------------------------
 \floatstyle{ruled}
 \restylefloat{figure}
 \floatstyle{ruled}
 \restylefloat{table}
 \floatstyle{ruled}
 \newfloat{program}{ht}{lop}[section]
 \floatstyle{ruled}
 \newfloat{example}{ht}{loe}[section]
 \floatname{example}{Example}
 \floatstyle{ruled}
 \newfloat{dbequation}{ht}{loe}[section]
 \floatname{dbequation}{Equation}
 \floatstyle{boxed}
 \newfloat{algorithm}{ht}{loa}[section]
 \floatname{algorithm}{Algorithm}
\ifpdf
\DeclareGraphicsExtensions{.pdf,.png,.jpg}
\else
\DeclareGraphicsExtensions{.eps}
\fi
% --------------------------------------------
\makeatletter
% Facilitate use of \cite with \label
\newcommand{\docbooktolatexbibaux}[2]{%
  \protected@write\@auxout{}{\string\global\string\@namedef{docbooktolatexcite@#1}{#2}}
}
\newcommand{\docbooktolatexcite}[2]{%
  \@ifundefined{docbooktolatexcite@#1}%
  {\cite{#1}}%
  {\def\@docbooktolatextemp{#2}\ifx\@docbooktolatextemp\@empty%
   \cite{\@nameuse{docbooktolatexcite@#1}}%
   \else\cite[#2]{\@nameuse{docbooktolatexcite@#1}}%
   \fi%
  }%
}
\newcommand{\docbooktolatexbackcite}[1]{%
  \ifx\Hy@backout\@undefined\else%
    \@ifundefined{docbooktolatexcite@#1}{%
      % emit warning?
    }{%
      \ifBR@verbose%
        \PackageInfo{backref}{back cite \string`#1\string' as \string`\@nameuse{docbooktolatexcite@#1}\string'}%
      \fi%
      \Hy@backout{\@nameuse{docbooktolatexcite@#1}}%
    }%
  \fi%
}
% --------------------------------------------
% A way to honour &lt;footnoteref&gt;s
% Blame j-devenish (at) users.sourceforge.net
% In any other LaTeX context, this would probably go into a style file.
\newcommand{\docbooktolatexusefootnoteref}[1]{\@ifundefined{@fn@label@#1}%
  {\hbox{\@textsuperscript{\normalfont ?}}%
    \@latex@warning{Footnote label `#1' was not defined}}%
  {\@nameuse{@fn@label@#1}}}
\newcommand{\docbooktolatexmakefootnoteref}[1]{%
  \protected@write\@auxout{}%
    {\global\string\@namedef{@fn@label@#1}{\@makefnmark}}%
  \@namedef{@fn@label@#1}{\hbox{\@textsuperscript{\normalfont ?}}}%
  }
\makeatother
% --------------------------------------------
% Hacks for honouring row/entry/@align
% (\hspace not effective when in paragraph mode)
% Naming convention for these macros is:
% 'docbooktolatex' 'align' {alignment-type} {position-within-entry}
% where r = right, l = left, c = centre
\newcommand{\docbooktolatexalignrl}{\protect\ifvmode\raggedleft\else\hfill\fi}
\newcommand{\docbooktolatexalignrr}{\protect}
\newcommand{\docbooktolatexalignll}{\protect\ifvmode\raggedright\else\fi}
\newcommand{\docbooktolatexalignlr}{\protect\ifvmode\else\hspace*\fill\fi}
\newcommand{\docbooktolatexaligncl}{\protect\ifvmode\centering\else\hfill\fi}
\newcommand{\docbooktolatexaligncr}{\protect\ifvmode\else\hspace*\fill\fi}
% --------------------------------------------
% $latex.caption.swapskip enabled for $formal.title.placement support
\newlength{\docbooktolatextempskip}
\newcommand{\captionswapskip}{\setlength{\docbooktolatextempskip}{\abovecaptionskip}\setlength{\abovecaptionskip}{\belowcaptionskip}\setlength{\belowcaptionskip}{\docbooktolatextempskip}}
\title{\bfseries Biblio}
\author{John Doe \and Ramon Casellas}
% --------------------------------------------
\makeindex
\makeglossary
% --------------------------------------------

\setcounter{tocdepth}{4}

\setcounter{secnumdepth}{4}
\begin{document}

\InputIfFileExists{title}{\typeout{WARNING: Using cover pagetitle}}{\maketitle\pagestyle{empty}\thispagestyle{empty}}

% -------------------------------------------------------------
% Chapter Sample 
% ------------------------------------------------------------- 	
\chapter{Sample}
\label{id224164}\hypertarget{id224164}{}%

% ------------------------   
% Section 
\section{Sample Section}
\label{id224171}\hypertarget{id224171}{}%

\begin{admonition}{figures/warning}{Bibliography and references}% NOTICE: see the db2latex FAQ w.r.t db2latex variable $latex.admonition.path

Now it is possible to have lots of unsorted
        biblioentries, and use DB2LaTeX to process them, sort them
        and filter them. The descending sorting is done according
        to the tupple (xreflabel,id,abbrev).

In some documents, only the references that are
        explicitly cited should appear in the print output. With
        DB2LaTeX, you may use the variable latex.biblio.output
        :

\begin{itemize}

%--- Item
\item 
If latex.biblio.output = 'all', all entries are
            output.


%--- Item
\item 
If latex.biblio.output = 'cited', only the
            cited/xreffed biblioentries.


\end{itemize}

For example, only 
        \docbooktolatexcite{Ref1A}{}
        \docbooktolatexcite{RefE}{}, 
        \docbooktolatexcite{RefC}{} (repeated: \docbooktolatexcite{idC}{}), 
        \docbooktolatexcite{RefA}{} should appear in the bibliography.
        The basic idea is, if somewhere there is a xref 
        \docbooktolatexcite{idD}{[Make \$\$\$ fast{\rbrack}} or a citation, output the \hyperlink{idD}{\docbooktolatexbackcite{idD}{[entry]}} (can also use \hyperlink{idD}{\docbooktolatexbackcite{idD}links}).
        Please note that there exists in the docbook source an
        entry (idB, RefB) which has neither been cited or xrefed,
        so in "cite" mode, no latex 'bibitem' is generated. Test text: [Make {\texttt\itshape{\$\$\$}} fast].
\end{admonition}

% ------------------------------------------- 
%	
%  Bibliography
%	
% -------------------------------------------	
\bibliography{}
\begin{thebibliography}{WIDELABEL}

% -------------- biblioentry 
\bibitem[RefA]{RefA}\docbooktolatexbibaux{idA}{RefA}
\hypertarget{idA}{\emph{Title}}, author.


% -------------- biblioentry 
\bibitem[RefC*]{RefC}\docbooktolatexbibaux{idC}{RefC}
\hypertarget{idC}{\emph{Title}}, author.


% -------------- biblioentry 
\bibitem[entry]{RefD}\docbooktolatexbibaux{idD}{RefD}
\hypertarget{idD}{\emph{Title}}, author.


% -------------- biblioentry 
\bibitem[RefE]{RefE}\docbooktolatexbibaux{idE}{RefE}
\hypertarget{idE}{\emph{Title}}, author.


% -------------- biblioentry 
\bibitem[Ref1A]{Ref1A}\docbooktolatexbibaux{id1A}{Ref1A}
\hypertarget{id1A}{\emph{Title}}, author.


\end{thebibliography}

\end{document}

